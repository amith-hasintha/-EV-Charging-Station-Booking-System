<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools">

    <!-- Permissions for Internet, Location, Maps, and CAMERA -->
    <uses-feature
        android:name="android.hardware.camera"
        android:required="false" />

    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
    <uses-permission android:name="android.permission.CAMERA" />

    <application
        android:allowBackup="true"
        android:dataExtractionRules="@xml/data_extraction_rules"
        android:fullBackupContent="@xml/backup_rules"
        android:icon="@drawable/ev_logo"
        android:label="@string/app_name"
        android:roundIcon="@drawable/ic_launcher_background"
        android:supportsRtl="true"
        android:theme="@style/Theme.EVChargingMobile"
        android:usesCleartextTraffic="true"
        tools:targetApi="31">

        <!-- ****************************************************** -->
        <!-- Your Google Maps API Key -->
        <meta-data
            android:name="com.google.android.geo.API_KEY"
            android:value="AIzaSyCgV1SfYPRvKPqf0I1H6D3UOh_EjfImOEw" />
        <!-- ****************************************************** -->

        <!-- SplashActivity is the starting point of the app. -->
        <activity
            android:name=".activities.SplashActivity"
            android:exported="true"
            android:theme="@style/Theme.AppCompat.NoActionBar">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

        <!-- All other standard activities -->
        <activity
            android:name=".activities.LoginActivity"
            android:exported="false" />
        <activity android:name=".activities.RegisterActivity" />
        <activity android:name=".activities.DashboardActivity" />
        <activity android:name=".activities.ProfileActivity" />
        <activity android:name=".activities.OperatorDashboardActivity" />
        <activity android:name=".activities.ConfirmBookingActivity" />

        <!--
        START: THIS IS THE FIX

        1. The old entry for QRScannerActivity has been removed.
        2. The new entry for CustomScannerActivity has been added below.
           This declaration is required to prevent the app from crashing.
        -->
        <activity
            android:name=".activities.CustomScannerActivity"
            android:screenOrientation="portrait"
            android:stateNotNeeded="true"
            android:theme="@style/Theme.AppCompat.NoActionBar"
            android:windowSoftInputMode="stateAlwaysHidden"
            tools:replace="android:screenOrientation" />
        <!-- END: THIS IS THE FIX -->

    </application>
</manifest>
